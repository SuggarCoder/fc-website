# Admin é¡µé¢ç®¡ç†ç³»ç»Ÿå®æ–½è®¡åˆ’

## ä¸€ã€æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /admin é¡µé¢ â”‚â”€â”€â”€â–¶â”‚ /api/admin/* API  â”‚â”€â”€â”€â–¶â”‚ Vercel Edge Config   â”‚
â”‚  (SolidJS)  â”‚    â”‚ (Serverless Fn)  â”‚    â”‚ (KV æ•°æ®å­˜å‚¨)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **å‰ç«¯**: SolidJS ç»„ä»¶ï¼Œæ‰å¹³åŒ–é£æ ¼ç®¡ç†ç•Œé¢
- **åç«¯**: Vercel Serverless Functions (API Routes)
- **å­˜å‚¨**: Vercel Edge Config (KV å­˜å‚¨ï¼Œé€‚åˆè¯»å¤šå†™å°‘çš„é…ç½®æ•°æ®)
- **è®¤è¯**: ç®€å•å¯†ç è®¤è¯ï¼Œå¯†ç å­˜äº Vercel ç¯å¢ƒå˜é‡ `adpassword`

## äºŒã€éœ€è¦ç®¡ç†çš„æ•°æ®

| ç¼–å· | æ•°æ®é¡¹ | æ¥æºä½ç½® | æ•°æ®ç±»å‹ |
|------|--------|----------|----------|
| 1 | è”ç³»é‚®ç®± | `whiteOverlayRef` å†… `infor@floatcapital.com` | string |
| 2 | sec4Data | App.tsx:74-87ï¼Œ3 é¡¹ {title, desc} | array |
| 3 | sec6Data | App.tsx:89-102ï¼Œ3 é¡¹ {title, desc} | array |
| 4 | menuData | App.tsx:20-72ï¼Œ4 é¡¹èœå• {label, items[{title, desc}]} | array |
| 5 | descRef SplitText | App.tsx:961ï¼Œ1 æ®µæ–‡æœ¬ | string |
| 6 | sec2Ref SplitTexts | App.tsx:785+789ï¼Œ2 æ®µæ–‡æœ¬ | {title, desc} |

## ä¸‰ã€å®æ–½æ­¥éª¤

### Step 1: å®‰è£…ä¾èµ– & é…ç½® Edge Config

```bash
pnpm add @vercel/edge-config
```

åœ¨ Vercel Dashboard åˆ›å»º Edge Config Storeï¼Œè·å–è¿æ¥å­—ç¬¦ä¸²ï¼Œæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼š
- `EDGE_CONFIG` â€” Edge Config è¿æ¥å­—ç¬¦ä¸²ï¼ˆVercel è‡ªåŠ¨æ³¨å…¥ï¼‰

### Step 2: åˆ›å»º API è·¯ç”±

#### `api/admin/login.ts` â€” ç™»å½•éªŒè¯
- POST è¯·æ±‚ï¼Œæ¥æ”¶ `{ password }`
- ä¸ç¯å¢ƒå˜é‡ `adpassword` æ¯”å¯¹
- è¿”å›ä¸€ä¸ªç®€å• tokenï¼ˆä½¿ç”¨ crypto ç”Ÿæˆçš„éšæœºå­—ç¬¦ä¸²ï¼Œå­˜äºå†…å­˜/Edge Configï¼‰
- åç»­è¯·æ±‚é€šè¿‡ `Authorization: Bearer <token>` éªŒè¯

#### `api/admin/data.ts` â€” æ•°æ® CRUD
- **GET**: ä» Edge Config è¯»å–æ‰€æœ‰é…ç½®æ•°æ®ï¼Œè¿”å› JSON
- **PUT**: éªŒè¯ token â†’ å†™å…¥ Edge Configï¼ˆä½¿ç”¨ Vercel Edge Config APIï¼‰
- æ•°æ®ç»“æ„ï¼š
```json
{
  "contactEmail": "infor@floatcapital.com",
  "sec4Data": [...],
  "sec6Data": [...],
  "menuData": [...],
  "descText": "Float Capital focuses on...",
  "sec2Title": "Engineering Direction in...",
  "sec2Desc": "Float Capital incubates and invests..."
}
```

### Step 3: åˆ›å»º Admin å‰ç«¯é¡µé¢

#### è·¯ç”±æ–¹æ¡ˆ
ç”±äºé¡¹ç›®æ˜¯ SPA æ— è·¯ç”±åº“ï¼Œé‡‡ç”¨ä»¥ä¸‹æ–¹æ¡ˆï¼š
- æ–°å»º `src/admin.tsx` ä½œä¸ºç‹¬ç«‹å…¥å£
- åœ¨ `vite.config.ts` ä¸­é…ç½®å¤šé¡µé¢å…¥å£ï¼ˆMPAï¼‰ï¼š`admin.html` â†’ `src/admin.tsx`
- è®¿é—®è·¯å¾„ï¼š`/admin.html` æˆ–é€šè¿‡ Vercel rewrites æ˜ å°„ä¸º `/admin`

#### é¡µé¢ç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Login é¡µé¢ - æœªè®¤è¯æ—¶æ˜¾ç¤º]                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  å¯†ç è¾“å…¥æ¡† + ç™»å½•æŒ‰é’®             â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ç®¡ç†é¢æ¿ - è®¤è¯åæ˜¾ç¤º]                      â”‚
â”‚                                             â”‚
â”‚  â”€â”€ è”ç³»æ–¹å¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  [ infor@floatcapital.com          ]        â”‚
â”‚                                             â”‚
â”‚  â”€â”€ Section 2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  æ ‡é¢˜: [ Engineering Direction...   ]        â”‚
â”‚  æè¿°: [ Float Capital incubates... ]        â”‚
â”‚                                             â”‚
â”‚  â”€â”€ ç®€ä»‹æè¿° (Desc) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  [ Float Capital focuses on...     ]        â”‚
â”‚                                             â”‚
â”‚  â”€â”€ Section 4 (3é¡¹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  #1 æ ‡é¢˜: [...]  æè¿°: [...]                 â”‚
â”‚  #2 æ ‡é¢˜: [...]  æè¿°: [...]                 â”‚
â”‚  #3 æ ‡é¢˜: [...]  æè¿°: [...]                 â”‚
â”‚                                             â”‚
â”‚  â”€â”€ Section 6 (3é¡¹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  #1 æ ‡é¢˜: [...]  æè¿°: [...]                 â”‚
â”‚  #2 æ ‡é¢˜: [...]  æè¿°: [...]                 â”‚
â”‚  #3 æ ‡é¢˜: [...]  æè¿°: [...]                 â”‚
â”‚                                             â”‚
â”‚  â”€â”€ èœå•æ•°æ® (4é¡¹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  Proposition:                                â”‚
â”‚    é¡¹ç›®1: æ ‡é¢˜[...] æè¿°[...]                 â”‚
â”‚    é¡¹ç›®2: æ ‡é¢˜[...] æè¿°[...]                 â”‚
â”‚    [+ æ·»åŠ é¡¹ç›®]                               â”‚
â”‚  Products & Services:                        â”‚
â”‚    ...                                       â”‚
â”‚  How It Works:                               â”‚
â”‚    ...                                       â”‚
â”‚  Connect:                                    â”‚
â”‚    ...                                       â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚        ğŸ’¾ ä¿å­˜æ‰€æœ‰æ›´æ”¹         â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### UI è®¾è®¡é£æ ¼
- æ‰å¹³åŒ–è®¾è®¡ï¼Œæ·±è‰²ä¸»é¢˜ï¼ˆä¸ä¸»ç«™åè°ƒï¼‰
- èƒŒæ™¯ï¼š`#0a0e1a`ï¼Œå¡ç‰‡ï¼š`#1a1e3a`
- è¾“å…¥æ¡†ï¼šæ— è¾¹æ¡†åº•éƒ¨çº¿æ¡é£æ ¼ï¼Œfocus æ—¶é«˜äº®
- æŒ‰é’®ï¼šæ¸å˜æˆ–çº¯è‰²ï¼Œhover è¿‡æ¸¡åŠ¨æ•ˆ
- åˆ†åŒºå¡ç‰‡ + æ ‡ç­¾å¼åˆ†ç»„
- å“åº”å¼å¸ƒå±€

### Step 4: ä¿®æ”¹ä¸»ç«™å‰ç«¯è¯»å–åŠ¨æ€æ•°æ®

ä¿®æ”¹ `App.tsx`ï¼š
- é¡µé¢åŠ è½½æ—¶ä» `/api/admin/data` GET è¯»å–é…ç½®
- ä½¿ç”¨ SolidJS çš„ `createResource` æˆ– `createSignal` ç®¡ç†çŠ¶æ€
- è‹¥ API è¿”å›æ•°æ®åˆ™ä½¿ç”¨åŠ¨æ€æ•°æ®ï¼Œå¦åˆ™ fallback åˆ°ç¡¬ç¼–ç é»˜è®¤å€¼
- éœ€è¦æ”¹é€ çš„ä½ç½®ï¼š
  - `sec4Data` / `sec6Data` å¸¸é‡ â†’ å“åº”å¼ä¿¡å·
  - `menuData` å¸¸é‡ â†’ å“åº”å¼ä¿¡å·ï¼ˆéœ€è¦é‡æ„ content æ¸²æŸ“ï¼‰
  - `whiteOverlayRef` å†…é‚®ç®± â†’ åŠ¨æ€ç»‘å®š
  - `descRef` çš„ SplitText text â†’ åŠ¨æ€ç»‘å®š
  - `sec2Ref` çš„ä¸¤ä¸ª SplitText text â†’ åŠ¨æ€ç»‘å®š

### Step 5: Vercel é…ç½®

åœ¨ `vercel.json` ä¸­æ·»åŠ  rewritesï¼š
```json
{
  "rewrites": [
    { "source": "/admin", "destination": "/admin.html" }
  ]
}
```

## å››ã€æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `admin.html` | Admin é¡µé¢ HTML å…¥å£ |
| æ–°å»º | `src/admin.tsx` | Admin SolidJS å…¥å£ |
| æ–°å»º | `src/components/AdminPanel.tsx` | ç®¡ç†é¢æ¿ä¸»ç»„ä»¶ |
| æ–°å»º | `src/components/AdminLogin.tsx` | ç™»å½•ç»„ä»¶ |
| æ–°å»º | `api/admin/login.ts` | ç™»å½• API |
| æ–°å»º | `api/admin/data.ts` | æ•°æ® CRUD API |
| ä¿®æ”¹ | `vite.config.ts` | æ·»åŠ  admin å¤šé¡µé¢å…¥å£ |
| ä¿®æ”¹ | `src/App.tsx` | ä» API è¯»å–åŠ¨æ€æ•°æ® |
| æ–°å»º | `vercel.json` | URL rewrite é…ç½® |

## äº”ã€å®‰å…¨è€ƒè™‘

- å¯†ç é€šè¿‡ HTTPS ä¼ è¾“ï¼Œä¸åœ¨å‰ç«¯å­˜å‚¨æ˜æ–‡
- Token å­˜äº sessionStorageï¼Œå…³é—­æµè§ˆå™¨å³å¤±æ•ˆ
- API è·¯ç”±å‡éœ€ token éªŒè¯ï¼ˆlogin é™¤å¤–ï¼‰
- Edge Config å†™å…¥éœ€è¦é€šè¿‡ Vercel REST API + API Token

## å…­ã€æ³¨æ„äº‹é¡¹

1. **Edge Config å†™å…¥**ï¼šEdge Config çš„å†™å…¥éœ€è¦ä½¿ç”¨ Vercel REST APIï¼ˆ`@vercel/client` æˆ–ç›´æ¥ HTTP è°ƒç”¨ï¼‰ï¼Œä¸èƒ½ç”¨ `@vercel/edge-config` SDK ç›´æ¥å†™å…¥ï¼ˆSDK åªæ”¯æŒè¯»å–ï¼‰
2. **menuData ç»“æ„è½¬æ¢**ï¼šmenuData ç›®å‰åŒ…å« JSX content å‡½æ•°ï¼Œéœ€è¦å°†æ•°æ®éƒ¨åˆ†ï¼ˆlabel + itemsï¼‰æŠ½ç¦»ä¸ºçº¯æ•°æ®ï¼Œæ¸²æŸ“é€»è¾‘ä¿ç•™åœ¨ App.tsx
3. **é»˜è®¤å€¼å›é€€**ï¼šä¸»ç«™å¿…é¡»ä¿ç•™ç¡¬ç¼–ç é»˜è®¤å€¼ä½œä¸º fallbackï¼Œç¡®ä¿ Edge Config ä¸å¯ç”¨æ—¶é¡µé¢æ­£å¸¸æ˜¾ç¤º
